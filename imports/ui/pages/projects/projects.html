<!-- This page displayes employees and is accessible by Admins only. 
	TODO:
		Edit Project Functionality
-->
<template name="projects">
	{{> nav}}
	<div class="card, container">
		<div class="card-body">
    	<div style="padding: 0px 10px 0px 10px; ">

<!-- Search Function Not Implemented
      	<div class="row">
        	<div class="col">
          	<h1 id="headerText">
							<strong>Search Projects</strong>
						</h1>

						<i class="fa fa-search" style="margin-left:20px;width:73px;">
						</i>

						<input type="text" style="width:463px;height:50px;">
						
							<button class="btn btn-dark" type="button" style="margin-left:15px;width:131px;height:50px;font-size:22px;">
								Filter
							</button>
					</div>
        </div>
-->
	      <div class="row">
	      	<div class="col">
				<div style="padding-bottom:10px;padding-top:10px;font-size:32px;margin-left:10%;">
				<strong>Project Directory</strong>

					<!-- Supervisor Controls -->
					{{#if isSupervisor}}
							<!-- Edit Project Button -->
							<a href="#" class="btn btn-dark, editProject" style="margin-left:10%;"><button class="btn btn-dark" id="editProject" type="button" style="margin-left:0px;width:110px;font-size:22px;">Edit</button>
							</a>
							<!-- Admin Controls -->
							{{#if isAdmin}}
								<!-- Delete Project Button -->
							<a href="#" class="btn btn-danger, deleteProject">
								<button class="btn btn-danger" id="deleteProject" type="button" style="margin-left:0px;width:110px;font-size:22px;">
									Delete
								</button>
							</a>
							<!-- Add New Project Button -->
							<a class="newProject" href="#">
							<button class="btn btn-primary" id="newProject" type="button" style="color:white;background-color:#d3a944;font-size:22px;margin-left:10px;border:none;">
								<i class="icon ion-android-add" style="margin-left:0px;">
								</i>
									Add New Project
								</button>
							</a>
							{{/if}}
					{{/if}}
				</div>
	        </div>
				</div>
				
				<!-- Begin Project Table -->
	      <div class="table-responsive">
	      	<table class="table" style="font-size: 12px;">
	        	<thead style="background-color:#d3a944">
	          	<tr>
	          		{{#if isSupervisor}}
									<th></th>
								{{/if}}
								<th>Project Name</th>
								<th>Supervisor Name</th>
								<th>Client</th>
								<th>Budget</th>
								<th>Your Role</th>
								<th>Employees in Project</th>
	            </tr>
	          </thead>
	          <tbody>

							{{#each projects}}
								{{#if isMember _id}}
									<tr style="height:auto; margin-top:0px;">
										{{#if isSupervisor}}
											<td><input class="select-radio" type="radio" name="projectID" value="{{_id}}" checked="checked"></td>
										{{/if}}
										<td>{{name}}</td>
										<td>{{getProjectSupervisor supervisor}}</td>
										<td>{{client}}</td>
										<td>{{budget}}</td>
										<td>{{getUserRole}}</td>
										<td>
											{{#each value in employees}}
												{{getProjectEmployee value}}
												<br>
											{{/each}}
										</td>
									</tr>
								{{/if}}
							{{/each}}
	          </tbody>
	        </table>
				</div>
    	</div>
  	</div>
	</div>
</template>
